<mat-horizontal-stepper labelPosition="bottom" #stepper>
  <mat-step [stepControl]="yourInfoFormGroup">
    <form class="d-block mx-auto" [formGroup]="yourInfoFormGroup" (input)="dismissSnackbar()">
      <ng-template matStepLabel>
        <div>Profile</div>
        <small>Your Information</small>
      </ng-template>
      <mat-form-field class="ml-5">
        <mat-icon class="position-absolute fc-icon">person</mat-icon>
        <input matInput placeholder="First name" formControlName="firstName" required>
      </mat-form-field>
      <mat-form-field class="pl-3">
        <input matInput placeholder="Last name" formControlName="lastName" required>
      </mat-form-field>
      <br>
      <mat-form-field class="ml-5">
        <mat-icon class="position-absolute fc-icon">person_outline</mat-icon>
        <input matInput placeholder="Account Username" formControlName="username" required>
      </mat-form-field>
      <mat-form-field class="pl-3">
        <input matInput placeholder="Password" type="password" formControlName="password" required autocomplete="off">
      </mat-form-field>
      <br>
      <mat-form-field class="ml-5">
        <mat-icon class="position-absolute fc-icon">contacts</mat-icon>
        <input matInput placeholder="Email" formControlName="email" required>
      </mat-form-field>
      <mat-form-field class="pl-3">
        <input matInput placeholder="Phone" formControlName="phone" required>
      </mat-form-field>
      <div>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="companyFormGroup" optional>
    <form class="d-block mx-auto" [formGroup]="companyFormGroup" (input)="dismissSnackbar()">
      <ng-template matStepLabel>
        <div>Company</div>
        <small>Your WorkPlace's profile</small>
      </ng-template>
      <mat-form-field class="ml-5">
        <mat-icon class="position-absolute fc-icon">business</mat-icon>
        <input matInput placeholder="Company Name" formControlName="name">
      </mat-form-field>
      <mat-form-field class="pl-3">
        <mat-select #posSelect placeholder="Your Position" (selectionChange)="selectPosition(posSelect)">
          <mat-option *ngFor="let pos of companyPositions" [value]="pos.value">
            {{pos.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <br>
      <mat-form-field class="ml-5">
        <mat-icon class="position-absolute fc-icon">group</mat-icon>
        <input matInput placeholder="Number of Employees" formControlName="employeeCount" type="number" min="0">
      </mat-form-field>
      <mat-form-field *ngIf="showShareInp" class="pl-3">
        <input matInput placeholder="Your Share" formControlName="yourShare" type="number" min="0">
      </mat-form-field>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>
      <div>Package</div>
      <small>Subscription</small>
    </ng-template>
    <div *ngIf="selectedPackage" class="container horizontal-scroll row m-0">
      <div class="col-md-3 p-1">
        <div [style.height]="subPackHeight" #package_{{selectedPackage.package_id}} class="subPack-container p-1 hov-dis-rad card rounded" style.border="1px solid #{{selectedPackage.color}}">
          <h4 class="pl-2 m-0" style.color="#{{selectedPackage.color}}">
            {{ selectedPackage.name }}
            <button class="float-right bg-white shadow-none border-0 bg-transparent cursor-pointer" (click)="selectedPackage=null">
              <mat-icon class="vertical-align-middle">
                clear
              </mat-icon>
            </button>
          </h4>
          <div class="packContainer row col-md-12 p-0 m-0">
            <span style.color="#{{selectedPackage.color}}" class="col-md-6 p-0 text-left">
              <small>
                {{this.registration.getType(selectedPackage.method)}}
              </small>
            </span>
            <span style.color="#{{selectedPackage.color}}" class="col-md-6 p-0 text-right">
              <small>
                <b>$</b> {{selectedPackage.price}}
              </small>
            </span>
          </div>
          <small>
            <div *ngIf="selectedPackage.description.hasOwnProperty('cloud')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="selectedPackage.description.cloud">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(selectedPackage.description.cloud)">clear</mat-icon>
              <span class="vertical-align-middle">
                Cloud Application / Resources
              </span>
            </div>
            <div *ngIf="selectedPackage.description.hasOwnProperty('acc')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="selectedPackage.description.acc">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(selectedPackage.description.acc)">clear</mat-icon>
              <span class="vertical-align-middle">
                Accounting & Finance
              </span>
            </div>
            <div *ngIf="selectedPackage.description.hasOwnProperty('management')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="selectedPackage.description.management">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(selectedPackage.description.management)">clear</mat-icon>
              <span class="vertical-align-middle">
                Business Management
              </span>
            </div>
            <div *ngIf="selectedPackage.description.hasOwnProperty('storage')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="selectedPackage.description.storage">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(selectedPackage.description.storage)">clear</mat-icon>
              <span class="vertical-align-middle">
                File Storage
              </span>
            </div>
            <div *ngIf="selectedPackage.description.hasOwnProperty('inventory')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="selectedPackage.description.inventory">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(selectedPackage.description.inventory)">clear</mat-icon>
              <span class="vertical-align-middle">
                Inventory Management
              </span>
            </div>
            <div *ngIf="selectedPackage.description.hasOwnProperty('sales')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="selectedPackage.description.sales">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(selectedPackage.description.sales)">clear</mat-icon>
              <span class="vertical-align-middle">
                Sales' Records & Visualization
              </span>
            </div>
          </small>
        </div>
      </div>
    </div>
    <div *ngIf="!selectedPackage" class="container horizontal-scroll row m-0">
      <div *ngIf="subPacks.length === 0">
        Retreiving Subscription packages ...
      </div>
      <div *ngFor="let p of subPacks" class="col-md-3 p-1">
        <div matRipple [style.height]="subPackHeight" #package_{{p.package_id}} (click)="selectPackage('package_'.concat(p.package_id))"
          [matRippleColor]="myColor" class="subPack-container p-1 hov-dis-rad card rounded cursor-pointer" style.border="1px solid #{{p.color}}">
          <h4 class="pl-2 pr-2 m-0" style.color="#{{p.color}}">
            {{ p.name }}
          </h4>
          <div class="packContainer row col-md-12 p-0 m-0">
            <span style.color="#{{p.color}}" class="col-md-6 p-0 text-left">
              <small>
                {{this.registration.getType(p.method)}}
              </small>
            </span>
            <span style.color="#{{p.color}}" class="col-md-6 p-0 text-right">
              <small>
                <b>$</b> {{p.price}}
              </small>
            </span>
          </div>
          <small>
            <div *ngIf="p.description.hasOwnProperty('cloud')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="p.description.cloud">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(p.description.cloud)">clear</mat-icon>
              <span class="vertical-align-middle">
                Cloud Application / Resources
              </span>
            </div>
            <div *ngIf="p.description.hasOwnProperty('acc')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="p.description.acc">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(p.description.acc)">clear</mat-icon>
              <span class="vertical-align-middle">
                Accounting & Finance
              </span>
            </div>
            <div *ngIf="p.description.hasOwnProperty('management')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="p.description.management">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(p.description.management)">clear</mat-icon>
              <span class="vertical-align-middle">
                Business Management
              </span>
            </div>
            <div *ngIf="p.description.hasOwnProperty('storage')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="p.description.storage">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(p.description.storage)">clear</mat-icon>
              <span class="vertical-align-middle">
                File Storage
              </span>
            </div>
            <div *ngIf="p.description.hasOwnProperty('inventory')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="p.description.inventory">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(p.description.inventory)">clear</mat-icon>
              <span class="vertical-align-middle">
                Inventory Management
              </span>
            </div>
            <div *ngIf="p.description.hasOwnProperty('sales')">
              <mat-icon class="text-success vertical-align-middle" *ngIf="p.description.sales">done</mat-icon>
              <mat-icon class="text-danger vertical-align-middle" *ngIf="!(p.description.sales)">clear</mat-icon>
              <span class="vertical-align-middle">
                Sales' Records & Visualization
              </span>
            </div>
          </small>
        </div>
      </div>
    </div>
    <br>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="registerMe()">Register</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>